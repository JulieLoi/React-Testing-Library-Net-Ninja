# Project
Starting Project
- Cloned the "Starter Project" Branch
https://github.com/harblaith7/React-Testing-Library-Net-Ninja

This project covers unit testing and integration testing for a React app.

# Test Notes
https://testing-library.com/docs/queries/about/

## <u>Types of Tests</u>
<table>
    <tr>
        <td>
            There are three types of tests in general:<br />
            * <b>Unit Tests</b>: tests a piece of code in isolation<br />
            * <b>Integration Tests</b>: tests multiple components that interact with each other<br />
            * <b>End-to-End Tests (E2E Tests)</b>: simulates what a user is going to do<br />
        </td>
        <td>
            <img src ="https://user-images.githubusercontent.com/113395605/217402653-b7e2c426-0671-4797-957e-3ae5e96fea74.PNG" 
                width="250px"
            />
        </td>
    </tr>
</table>


## <u>Test Structure</u>
The test block describes what is being tested and usually consists of the following:

<img src ="https://user-images.githubusercontent.com/113395605/217403583-759a940d-3935-4b47-b81f-ddc8cd298ab8.PNG" 
    width="500px"
/>

<table>
    <tr>
        <th>Test Block Example</th>
        <th>Test Block Description</th>
    </tr>
    <tr>
        <td><code>
            test('renders learn react link', () => {<br />
                render(<App />);<br />
                const linkElement = screen.getByText(/learn react/i);<br />
                expect(linkElement).toBeInTheDocument();<br />
            });
        </code></td>
        <td>
            This test block is often found in <code>"create-react-app"</code> that is generated by default. <br />
            It renders the <code>App</code> component and finds the <code>linkElement</code> it wants to interact with. <br />
            Then it simply asserts that the <code>linkElement</code> exists.
        </td>
    </tr>
</table>

## <u>Intro to Query Methods</u>
We shall focus more on the test block example, especially on the query method for the <code>screen</code>. 

<code>screen</code> has a bunch of query methods, which can be broken down as the following:
 * Single Match vs Multiple Match
    * getBy, findBy, queryBy: these query methods must match only one element (if 0 or 1+, error)
    * getByAll, findByAll, queryByAll: these query methods return an array of matched elements 
 * Difference between get, find, query:
    * get: not asynchronous, will return an error for no match (0)
    * find: asynchronous, will return an error for no match (0)
    * query: not asynchronous, will not return an error for no match (0)


<img src ="https://user-images.githubusercontent.com/113395605/217406893-d7806c69-ef7d-41ed-8c75-1d042a357dfa.PNG" 
    width="500px"
/>

### Test Block Example
<table>
    <tr>
        <th>Test Block Example</th>
        <th>Screen Query Method</th>
    </tr>
    <tr>
        <td><code>
            test('renders learn react link', () => {<br />
                render(<App />);<br />
                const linkElement = screen.getByText(/learn react/i);<br />
                expect(linkElement).toBeInTheDocument();<br />
            });
        </code></td>
        <td>
            In this test block, we use the <code>getByText()</code> to get an element, which we suspect to be a <code>linkElement</code>.<br />

        </td>
    </tr>
</table>

### <u>Priority</u>
Now that we have discussed all of the prefixes for the query method, let us discuss the attribute portion.

In testing, we want to mimick user actions as much as possible in our tests.

<img src ="https://user-images.githubusercontent.com/113395605/217409161-a9542867-77d3-4284-85fe-8192e3a004d0.PNG" 
    width="500px"
/>

### Top Priority
As seen from the chart above, we want to use the query methods for components that can be accessed by everyone, meaning the component is exposed in the accessibility tree.:
 * [getByRole](https://testing-library.com/docs/queries/byrole/): Used to query every element that is exposed in the accessibility tree
 * [getByLabelText](https://testing-library.com/docs/queries/bylabeltext): This method is really good for form fields
 * [getByPlaceholderText](https://testing-library.com/docs/queries/byplaceholdertext): Alternative (other resort) for getByLabelText
 * [getByText](https://testing-library.com/docs/queries/bytext): Outside of forms, text content is the main way users find elements. This method can be used to find non-interactive elements (like divs, spans, and paragraphs).


### Middle Priority
 If we cannot get a component by using a query method for a component that can be accessed by everyone, we use semantic queries, which is not always visible to the user, but is visible to the <code>screen</code> itself:
 * [getByAltText](https://testing-library.com/docs/queries/byalttext): If your element is one which supports alt text (img, area, input, and any custom element), then you can use this to find that element.
 * [getByTitle](https://testing-library.com/docs/queries/bytitle): The title attribute is not consistently read by screenreaders, and is not visible by default for sighted users.

### Bottom Priority
The last priority is a Test ID (<code>data-test-id</code>), which is never seen by the user. It is the last resort if the screen cannot find the element.
 * [getByTestId](https://testing-library.com/docs/queries/bytestid): The user cannot see (or hear) these, so this is only recommended for cases where you can't match by role or text or it doesn't make sense (e.g. the text is dynamic).







